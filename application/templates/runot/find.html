{% extends "layout.html" %} {% block body %}

<h3>Etsi runoa arkistosta nimen tai kategorian perusteella</h3>  <!-- tai molempien perusteella -->
<br>

<form action=" {{ url_for('find_runo')}}" method="POST" role="form">
        {{ form.FindForm }}
        <div class="form-group row">
              <label for="name" class="col-sm-1 col-form-label">nimi:</label>
              <div class="col-5">
                    <input type="text" class="form-control" id="name" name="name" placeholder="etsimÃ¤si runo">
              </div>
        </div>  
         <button type="submit" class="btn btn-primary">Etsi</button>

         <p>{{ name_error }}</p>
        <ul>
              {% for error in form.name.errors %}
              <li>{{ error }}</li>
              {% endfor %}
        </ul>
        <div class="form-group row">
              <label for="category" class="col-sm-1 col-form-label">kategoria:</label>
              <div class="col-5">
                    <input type="text" class="form-control" id="category" name="category" placeholder="kategoria">
              </div>
        </div>
        <ul>
              {% for error in form.category.errors %}
              <li>{{ error }}</li>
              {% endfor %}
        </ul>
        </div>
        <button type="submit" class="btn btn-primary">Etsi</button>
  </form>
</br>
</br>
{% if runo is defined %}

<h5>{{runo.name}}</h5>
<p>
    <i>{{ runo.sisalto }}</i>
</p>
<p>
    {{runo.runoilija}}
</p>
</br>

{% endif %} {% if runot_by_category is defined %}
<h4>Runot jotka kuuluvat <i> {{category }} </i> kategoriaan: </h4>
</br>

<ul>
    {% for runo in runot_by_category %}
    <li>
        <h5>{{runo.id}} {{runo.name}}</h5> <p> <i>{{runo.sisalto}}</i></p><p>{{runo.runoilija}}</p>
    </li>
    {% endfor %}
</ul>
{% endif %}


<p>{{ category_error }}</p>


{% endblock %}